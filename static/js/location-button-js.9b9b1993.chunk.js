(this["webpackJsonpsaman-li-dash"]=this["webpackJsonpsaman-li-dash"]||[]).push([[29],{103:function(t,e,o){"use strict";o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return c}));var a=o(93),n=o(0);function i(){return Object(a.d)().map}function c(t,e){var o=i();return Object(n.useEffect)((function(){return o.on(t,e),function(){o.off(t,e)}}),[o,t,e]),o}},66:function(t,e,o){"use strict";o.r(e);var a=o(87),n=o(9),i=o(0),c=o(103),r=o(141),s=o(118),l=o(86),u=o.n(l),d=o(89),h=o(1),p=[52.22977,21.01178],f=function(){var t=Object(c.a)();return Object(i.useEffect)((function(){var e=u.a.Control.extend({options:{position:"topleft",className:"locate-button leaflet-bar",html:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3A8.994 8.994 0 0 0 13 3.06V1h-2v2.06A8.994 8.994 0 0 0 3.06 11H1v2h2.06A8.994 8.994 0 0 0 11 20.94V23h2v-2.06A8.994 8.994 0 0 0 20.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>',style:"width: 34px; height: 34px; left: 0; margin-top: 0; display: flex; cursor: pointer; justify-content: center; font-size: 2rem;"},onAdd:function(t){this._map=t;var e=u.a.DomUtil.create("div");return u.a.DomEvent.disableClickPropagation(e),e.title="locate",e.innerHTML=this.options.html,e.className=this.options.className,e.setAttribute("style",this.options.style),u.a.DomEvent.on(e,"click",this._clicked,this),e},_clicked:function(t){u.a.DomEvent.stopPropagation(t),this._checkLocate()},_checkLocate:function(){return this._locateMap()},_locateMap:function(){var t=document.querySelector(".locate-button"),e=t.classList.contains("locate-active");if(t.classList[e?"remove":"add"]("locate-active"),e)return this.removeLocate(),void this._map.stopLocate();this._map.on("locationfound",this.onLocationFound,this),this._map.on("locationerror",this.onLocationError,this),this._map.locate({setView:!0,enableHighAccuracy:!0})},onLocationFound:function(e){this.addCircle(e).addTo(this.featureGroup()).addTo(t),this.addMarker(e).addTo(this.featureGroup()).addTo(t)},onLocationError:function(t){this.addLegend("Location access denied.")},featureGroup:function(){return new u.a.FeatureGroup},addLegend:function(t){var e=document.querySelector(".description");if(e)e.textContent=t;else{var o=u.a.control({position:"bottomleft"});o.onAdd=function(){var e=u.a.DomUtil.create("div","description");u.a.DomEvent.disableClickPropagation(e);var o=t;return e.insertAdjacentHTML("beforeend",o),e},o.addTo(this._map)}},addCircle:function(t){var e=t.accuracy,o=t.latitude,a=t.longitude;return u.a.circle([o,a],e/2,{className:"circle-test",weight:2,stroke:!1,fillColor:"#136aec",fillOpacity:.15})},addMarker:function(t){var e=t.latitude,o=t.longitude;return u.a.marker([e,o],{icon:u.a.divIcon({className:"located-animation",iconSize:u.a.point(17,17),popupAnchor:[0,-15]})}).bindPopup("Your are here :)")},removeLocate:function(){this._map.eachLayer((function(e){if(e instanceof u.a.Marker){var o=e.options.icon;"located-animation"===(null===o||void 0===o?void 0:o.options.className)&&t.removeLayer(e)}e instanceof u.a.Circle&&"circle-test"===e.options.className&&t.removeLayer(e)}))}});t.addControl(new e)}),[t]),null};e.default=function(){var t=Object(i.useState)(null),e=Object(n.a)(t,2),o=e[0],c=e[1];return Object(h.jsxs)(r.a,{whenCreated:c,center:p,zoom:18,scrollWheelZoom:!1,children:[Object(h.jsx)(s.a,Object(a.a)({},d.a)),Object(h.jsx)(f,{map:o})]})}},89:function(t,e,o){"use strict";o(92);e.a={url:"http://localhost:8080/data/v3/{z}/{x}/{y}.pbf"}}}]);
//# sourceMappingURL=location-button-js.9b9b1993.chunk.js.map